<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head>
    <title>upnp.classes.statevariable: Module Index</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
    <!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
    <div id="product_logo"></div>
    <div id="product_name"><big><b></b></big></div>
    <div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h2>LuaDoc</h2>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h2>Modules</h2>
<ul>

	<li>
		<a href="../modules/upnp.html">upnp</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.action.html">upnp.classes.action</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.argument.html">upnp.classes.argument</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.device.html">upnp.classes.device</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.service.html">upnp.classes.service</a>
	</li>

	<li><strong>upnp.classes.statevariable</strong></li>
	
	<li>
		<a href="../modules/upnp.classes.upnpbase.html">upnp.classes.upnpbase</a>
	</li>

	<li>
		<a href="../modules/upnp.devicefactory.html">upnp.devicefactory</a>
	</li>

	<li>
		<a href="../modules/upnp.drivers.xplrfx.html">upnp.drivers.xplrfx</a>
	</li>

	<li>
		<a href="../modules/upnp.lp.html">upnp.lp</a>
	</li>

	<li>
		<a href="../modules/upnp.xmlfactory.html">upnp.xmlfactory</a>
	</li>

	<li>
		<a href="../modules/urn_schemas-upnp-org_SwitchPower_1.html">urn_schemas-upnp-org_SwitchPower_1</a>
	</li>

</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module "<code>upnp.classes.statevariable</code>"</h1>

<p>The base object for UPnP statevariable.</p>


<p>Copyright &copy; 2012 <a href="http://www.thijsschreijer.nl">Thijs Schreijer</a>, <a href="http://github.com/Tieske/LuaUPnP">LuaUPnP</a> is licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.html">GPLv3</a></p>


<p><small><b>Release:</b> Version 0.1, LuaUPnP</small></p>



<h2>Tables</h2>
<table class="table_list">

	<tr>
	<td class="name" nowrap><a href="#statevariable fields/properties">statevariable fields/properties</a></td>
	<td class="summary">Members of the statevariable object </td>
	</tr>

</table>



<h2>Functions</h2>
<table class="function_list">

    <tr>
    <td class="name" nowrap><a href="#statevariable:afterset">statevariable:afterset</a>&nbsp;(oldval)</td>
    <td class="summary">Handler called after the new value has been set.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:beforeset">statevariable:beforeset</a>&nbsp;(newval)</td>
    <td class="summary">Handler called before the new value is set.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:check">statevariable:check</a>&nbsp;(value)</td>
    <td class="summary">Check a value against the statevariable.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:get">statevariable:get</a>&nbsp;()</td>
    <td class="summary">Gets the variable value.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:getdatatype">statevariable:getdatatype</a>&nbsp;()</td>
    <td class="summary">Gets the variable UPnP type.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:getupnp">statevariable:getupnp</a>&nbsp;(value)</td>
    <td class="summary">Gets the variable value in upnp format.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:initialize">statevariable:initialize</a>&nbsp;()</td>
    <td class="summary">Initializes the statevariable object.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:parsefromxml">statevariable:parsefromxml</a>&nbsp;(xmldoc, creator, parent)</td>
    <td class="summary">StateVariable constructor method, creates a new variable, parsed from an XML 'stateVariable' element.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:set">statevariable:set</a>&nbsp;(value, noevent)</td>
    <td class="summary">Sets the statevariable value.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#statevariable:setdatatype">statevariable:setdatatype</a>&nbsp;(upnptype)</td>
    <td class="summary">Sets the variable UPnP type </td>
    </tr>

</table>


<br/>
<br/>


<h2><a name="tables"></a>Tables</h2>
<dl class="table">

<dt><a name="statevariable fields/properties"></a><strong>statevariable fields/properties</strong></dt>
<dd>Members of the statevariable object


<h3>Fields</h3>
<ul>
	
	<li>
	  <code><em>name</em></code>: name of the statevariable
	</li>
	
	<li>
	  <code><em>sendevents</em></code>: indicator for the variable to be an evented statevariable
	</li>
	
	<li>
	  <code><em>_value</em></code>: internal field holding the value, use <a href="#statevariable:get"><code>get()</code></a>, <a href="#statevariable:set"><code>set()</code></a> and <a href="#statevariable:getupnp"><code>getupnp()</code></a> methods for access
	</li>
	
	<li>
	  <code><em>_datatype</em></code>: internal field holding the UPnP type, use <a href="#statevariable:getdatatype"><code>getdatatype()</code></a> and <a href="#statevariable:setdatatype"><code>setdatatype()</code></a> methods for access
	</li>
	
</ul>







</dd>


</dl>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="statevariable:afterset"></a><strong>statevariable:afterset</strong>&nbsp;(oldval)</dt>
<dd>
Handler called after the new value has been set. <br/><strong>NOTE:</strong> this will only be called when the value has actually changed, so setting the current value again will not trigger it! Override in descendant classes to implement device behaviour.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>oldval</em></code>: the previous value of the statevariable
	</li>
	
</ul>










<div>

<h3>See also:</h3>
<ul>
	
	<li><a href="../modules/upnp.classes.statevariable.html#statevariable:beforeset">
		statevariable:beforeset
	</a></li>
	
</ul>

</div>


</dd>




<dt><a name="statevariable:beforeset"></a><strong>statevariable:beforeset</strong>&nbsp;(newval)</dt>
<dd>
Handler called before the new value is set. The new value will have been checked and converted before this handler is called. Override in descendant classes to implement device behaviour. While the <code>afterset()</code> will only be called when the value being set is actually different from the current value, the <code>beforeset()</code> will always be run. Hence, <code>beforeset()</code> has the opportunity to change the value being set.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>newval</em></code>: the new value to be set
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
newval to be set (Lua type) or <code>nil, error message, error number</code> upon failure

</div>






<div>

<h3>See also:</h3>
<ul>
	
	<li><a href="../modules/upnp.classes.statevariable.html#statevariable:afterset">
		statevariable:afterset
	</a></li>
	
</ul>

</div>


</dd>




<dt><a name="statevariable:check"></a><strong>statevariable:check</strong>&nbsp;(value)</dt>
<dd>
Check a value against the statevariable. Will coerce booelans and numbers, including min/max/step values.  Only values not convertable will return an error.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>value</em></code>: the value to check against the statevariable
	</li>
	
</ul>





<div>


<h3>Return values:</h3>
<ol>
	
	<li>value (in corresponding lua type) on success, <code>nil</code> on failure</li>
	
	<li>error string, if failure</li>
	
	<li>UPnP error number, if failure</li>
	
</ol>

</div>







</dd>




<dt><a name="statevariable:get"></a><strong>statevariable:get</strong>&nbsp;()</dt>
<dd>
Gets the variable value. The value will be in the corresponding Lua type. Note: for a date object, always a copy will be stored/returned to prevent changes from going 'unevented', so the change must be explicitly set. <br/><strong>Note:</strong> The boolean type is represented in Lua as 1 or 0, this is done to prevent the mixup with <code>nil</code> which is also falsy.






<div>


<h3 class="inline-block">Return value:</h3>
statevariable value as Lua type

</div>







</dd>




<dt><a name="statevariable:getdatatype"></a><strong>statevariable:getdatatype</strong>&nbsp;()</dt>
<dd>
Gets the variable UPnP type.






<div>


<h3 class="inline-block">Return value:</h3>
(string) UPnP data type

</div>







</dd>




<dt><a name="statevariable:getupnp"></a><strong>statevariable:getupnp</strong>&nbsp;(value)</dt>
<dd>
Gets the variable value in upnp format.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>value</em></code>: (optional) the value to convert to the UPnP format of this variable. If omitted, then the current value of the statevariable will be used (this parameters main use is returning properly formatted results for action arguments during a call)
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
(string) The statevariable value in UPnP format

</div>







</dd>




<dt><a name="statevariable:initialize"></a><strong>statevariable:initialize</strong>&nbsp;()</dt>
<dd>
Initializes the statevariable object. Will be called upon instantiation of an object, override this method to set default values for all properties.












</dd>




<dt><a name="statevariable:parsefromxml"></a><strong>statevariable:parsefromxml</strong>&nbsp;(xmldoc, creator, parent)</dt>
<dd>
StateVariable constructor method, creates a new variable, parsed from an XML 'stateVariable' element.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>xmldoc</em></code>: an IXML object containing the 'stateVariable' element
	</li>
	
	<li>
	  <code><em>creator</em></code>: callback function to create individual sub objects, see <a href="upnp.device.html#creator"><code>creator()</code></a>.
	</li>
	
	<li>
	  <code><em>parent</em></code>: the parent object for the variable to be created
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
statevariable object

</div>







</dd>




<dt><a name="statevariable:set"></a><strong>statevariable:set</strong>&nbsp;(value, noevent)</dt>
<dd>
Sets the statevariable value. Any value provided will be converted to the corresponding Lua type


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>value</em></code>: the new value for the statevariable
	</li>
	
	<li>
	  <code><em>noevent</em></code>: boolean indicating whether an event should be blocked for evented statevariables
	</li>
	
</ul>





<div>


<h3>Return values:</h3>
<ol>
	
	<li>value (in corresponding lua type) on success, <code>nil</code> on failure</li>
	
	<li>error string, if failure</li>
	
	<li>UPnP error number, if failure</li>
	
</ol>

</div>







</dd>




<dt><a name="statevariable:setdatatype"></a><strong>statevariable:setdatatype</strong>&nbsp;(upnptype)</dt>
<dd>
Sets the variable UPnP type


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>upnptype</em></code>: a valid UPnP datatype
	</li>
	
</ul>











</dd>


</dl>


</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
    <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->
</body>
</html>
