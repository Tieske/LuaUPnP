<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head>
    <title>upnp.classes.action: Module Index</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
    <!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
    <div id="product_logo"></div>
    <div id="product_name"><big><b></b></big></div>
    <div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h2>LuaDoc</h2>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h2>Modules</h2>
<ul>

	<li>
		<a href="../modules/upnp.html">upnp</a>
	</li>

	<li><strong>upnp.classes.action</strong></li>
	
	<li>
		<a href="../modules/upnp.classes.argument.html">upnp.classes.argument</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.device.html">upnp.classes.device</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.service.html">upnp.classes.service</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.statevariable.html">upnp.classes.statevariable</a>
	</li>

	<li>
		<a href="../modules/upnp.classes.upnpbase.html">upnp.classes.upnpbase</a>
	</li>

	<li>
		<a href="../modules/upnp.devicefactory.html">upnp.devicefactory</a>
	</li>

	<li>
		<a href="../modules/upnp.drivers.xplrfx.html">upnp.drivers.xplrfx</a>
	</li>

	<li>
		<a href="../modules/upnp.lp.html">upnp.lp</a>
	</li>

	<li>
		<a href="../modules/upnp.xmlfactory.html">upnp.xmlfactory</a>
	</li>

	<li>
		<a href="../modules/urn_schemas-upnp-org_device_BinaryLight_1.html">urn_schemas-upnp-org_device_BinaryLight_1</a>
	</li>

	<li>
		<a href="../modules/urn_schemas-upnp-org_device_DimmableLight_1.html">urn_schemas-upnp-org_device_DimmableLight_1</a>
	</li>

	<li>
		<a href="../modules/urn_schemas-upnp-org_service_Dimming_1.html">urn_schemas-upnp-org_service_Dimming_1</a>
	</li>

	<li>
		<a href="../modules/urn_schemas-upnp-org_service_SwitchPower_1.html">urn_schemas-upnp-org_service_SwitchPower_1</a>
	</li>

</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module "<code>upnp.classes.action</code>"</h1>

<p>The base object for UPnP actions.</p>


<p>Copyright &copy; 2012 <a href="http://www.thijsschreijer.nl">Thijs Schreijer</a>, <a href="http://github.com/Tieske/LuaUPnP">LuaUPnP</a> is licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.html">GPLv3</a></p>


<p><small><b>Release:</b> Version 0.1, LuaUPnP</small></p>



<h2>Tables</h2>
<table class="table_list">

	<tr>
	<td class="name" nowrap><a href="#Action fields/properties">Action fields/properties</a></td>
	<td class="summary">Members of the action object </td>
	</tr>

</table>



<h2>Functions</h2>
<table class="function_list">

    <tr>
    <td class="name" nowrap><a href="#action:addargument">action:addargument</a>&nbsp;(argument)</td>
    <td class="summary">Adds an argument to the actions argument list.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:checkparams">action:checkparams</a>&nbsp;(params)</td>
    <td class="summary">Checks parameters, completeness and conversion to Lua values/types.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:checkresults">action:checkresults</a>&nbsp;(result)</td>
    <td class="summary">Checks return values, completeness and conversion to UPnP values/types.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:execute">action:execute</a>&nbsp;(params)</td>
    <td class="summary">Executes the action.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:genericgetter">action:genericgetter</a>&nbsp;(params)</td>
    <td class="summary">Generic function for standard actions 'getVariableName'.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:genericsetter">action:genericsetter</a>&nbsp;(params)</td>
    <td class="summary">Generic function for standard actions 'setVariableName'.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:initialize">action:initialize</a>&nbsp;()</td>
    <td class="summary">Initializes the action object.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#action:parsefromxml">action:parsefromxml</a>&nbsp;(xmldoc, creator, parent)</td>
    <td class="summary">Action constructor method, creates a new action, parsed from an XML 'action' element.</td>
    </tr>

</table>


<br/>
<br/>


<h2><a name="tables"></a>Tables</h2>
<dl class="table">

<dt><a name="Action fields/properties"></a><strong>Action fields/properties</strong></dt>
<dd>Members of the action object


<h3>Fields</h3>
<ul>
	
	<li>
	  <code><em>name</em></code>: name of the action
	</li>
	
	<li>
	  <code><em>parent</em></code>: the owning upnpservice object
	</li>
	
	<li>
	  <code><em>argumentlist</em></code>: list with arguments, indexed both by name and number (order in the list)
	</li>
	
	<li>
	  <code><em>argumentcount</em></code>: number of arguments for the action
	</li>
	
</ul>







</dd>


</dl>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="action:addargument"></a><strong>action:addargument</strong>&nbsp;(argument)</dt>
<dd>
Adds an argument to the actions argument list. This will append an argument, so adding must be done in proper UPnP order!


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>argument</em></code>: the argument object to be added to the argumentlist
	</li>
	
</ul>











</dd>




<dt><a name="action:checkparams"></a><strong>action:checkparams</strong>&nbsp;(params)</dt>
<dd>
Checks parameters, completeness and conversion to Lua values/types. <br><strong>NOTE:</strong> a copy of the table is returned, so the original table will not be modified.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>params</em></code>: table with parameters provided (key value list, where key is the parameter name, value is the Lua typed value)
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
params table, or <code>nil + errormsg + errornumber</code> in case of an error

</div>







</dd>




<dt><a name="action:checkresults"></a><strong>action:checkresults</strong>&nbsp;(result)</dt>
<dd>
Checks return values, completeness and conversion to UPnP values/types. Transforms the results in 2 lists, names and values, in proper UPnP order, and UPnP typed.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>result</em></code>: table with parameters provided (key value list, where key is the parameter name)
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
2 lists (names and values) of the 'out' arguments (in proper order), or <code>nil, errormsg, errornumber</code> upon failure

</div>







</dd>




<dt><a name="action:execute"></a><strong>action:execute</strong>&nbsp;(params)</dt>
<dd>
Executes the action. Override in descendant classes to implement the actual device behaviour. Preferably call the <code>device:executeaction()</code> method, as that ensures that all objects in the hierarchy are informed about the results, additionally it will check and convert parameters in and results going out. <br><strong>NOTE:</strong> If parsed from an xml file the <code>genericgetter()/genericsetter()</code> might automatically have been set as the <code>execute()</code> method.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>params</em></code>: table with named 'out' arguments (each argument indexed by its name).
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
table with named return values (each indexed by its lowercase name). Upon an error the function should return; <code>nil, errorstring, errornumber</code> (see the 6xx error codes in the UPnP 1.0 architecture document, section 3.2.2)

</div>






<div>

<h3>See also:</h3>
<ul>
	
	<li><a href="../modules/upnp.classes.device.html#device:executeaction">
		device:executeaction
	</a></li>
	
	<li><a href="../modules/upnp.classes.service.html#service:executeaction">
		service:executeaction
	</a></li>
	
	<li><a href="../modules/upnp.classes.action.html#action:genericgetter">
		action:genericgetter
	</a></li>
	
	<li><a href="../modules/upnp.classes.action.html#action:genericsetter">
		action:genericsetter
	</a></li>
	
</ul>

</div>


</dd>




<dt><a name="action:genericgetter"></a><strong>action:genericgetter</strong>&nbsp;(params)</dt>
<dd>
Generic function for standard actions 'getVariableName'. This method is capable of returning multiple parameters, it will simply report all 'out' arguments of the action based on the related statevariables current value. <br><strong>NOTE:</strong> when an action is parsed from an xml, and the following conditions are met;</p><ul> <li>action name starts with <code>'get'</code> (case independent)</li> <li>the action has 1 or more arguments</li> <li>all arguments are direction <code>'out'</code></li> <li>none of the arguments has a related statevariable which name starts with <code>'A_ARG_TYPE_'</code> (case independent)</li> </ul><p> then the <code>genericgetter</code> will automatically be set as the <code>execute()</code> method for the action.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>params</em></code>: list of parameters (not used by getters, but is standard in <code>execute()</code> method signature)
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
table with named return arguments (see <code>action:execute()</code> for format)

</div>



 
<div>

<h3 class="inline-block">Example:</h3>
<pre class="example">-- usage for generic getter, assign to execute method<br/>myAction.execute = upnp.classes.action.genericgetter</pre>

</div>



<div>

<h3>See also:</h3>
<ul>
	
	<li><a href="../modules/upnp.classes.action.html#action:execute">
		action:execute
	</a></li>
	
</ul>

</div>


</dd>




<dt><a name="action:genericsetter"></a><strong>action:genericsetter</strong>&nbsp;(params)</dt>
<dd>
Generic function for standard actions 'setVariableName'. This method is capable of aetting multiple statevariable values, it will simply store all values of the parameters in the related statevariables. <br><strong>NOTE:</strong> when an action is parsed from an xml, and the following conditions are met;</p><ul> <li>action name starts with <code>'set'</code> (case independent)</li> <li>the action has 1 or more arguments</li> <li>all arguments are direction <code>'in'</code></li> <li>none of the arguments has a related statevariable which name starts with <code>'A_ARG_TYPE_'</code> (case independent)</li> </ul><p> then the <code>genericsetter</code> will automatically be set as the <code>execute()</code> method for the action.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>params</em></code>: list of parameters
	</li>
	
</ul>





<div>


<h3>Return values:</h3>
<ol>
	
	<li><code>1</code> on success, or <code>nil</code> on error</li>
	
	<li><code>errorstring</code> on error</li>
	
	<li><code>errornr</code> on error</li>
	
</ol>

</div>



 
<div>

<h3 class="inline-block">Example:</h3>
<pre class="example">-- usage for generic getter, assign to execute method<br/>myAction.execute = upnp.classes.action.genericgetter</pre>

</div>



<div>

<h3>See also:</h3>
<ul>
	
	<li><a href="../modules/upnp.classes.action.html#action:execute">
		action:execute
	</a></li>
	
</ul>

</div>


</dd>




<dt><a name="action:initialize"></a><strong>action:initialize</strong>&nbsp;()</dt>
<dd>
Initializes the action object. Will be called upon instantiation of an object, override this method to set default values for all properties.












</dd>




<dt><a name="action:parsefromxml"></a><strong>action:parsefromxml</strong>&nbsp;(xmldoc, creator, parent)</dt>
<dd>
Action constructor method, creates a new action, parsed from an XML 'action' element.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>xmldoc</em></code>: an IXML object containing the 'action' element
	</li>
	
	<li>
	  <code><em>creator</em></code>: callback function to create individual sub objects, see <a href="upnp.device.html#creator"><code>creator()</code></a>.
	</li>
	
	<li>
	  <code><em>parent</em></code>: the parent service object for the action to be created
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
action object or <code>nil + error message</code>

</div>







</dd>


</dl>


</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
    <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->
</body>
</html>
