<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Luadocs for lua_src/classes/service.lua</title>
    <link rel="stylesheet" href="../../../luadoc.css" type="text/css" />
    <!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
    <div id="product_logo"></div>
    <div id="product_name"><big><b></b></big></div>
    <div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h2>LuaDoc</h2>
<ul>
	
	<li><a href="../../../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h2>Modules</h2>
<ul>

	<li>
		<a href="../../../modules/upnp.html">upnp</a>
	</li>

	<li>
		<a href="../../../modules/upnp.action.html">upnp.action</a>
	</li>

	<li>
		<a href="../../../modules/upnp.argument.html">upnp.argument</a>
	</li>

	<li>
		<a href="../../../modules/upnp.device.html">upnp.device</a>
	</li>

	<li>
		<a href="../../../modules/upnp.service.html">upnp.service</a>
	</li>

	<li>
		<a href="../../../modules/upnp.statevariable.html">upnp.statevariable</a>
	</li>

	<li>
		<a href="../../../modules/upnp.upnpbase.html">upnp.upnpbase</a>
	</li>

</ul>



<!-- File list -->

<h2>Files</h2>
<ul>

	<li>
		<a href="../../../files/lua_src/classes/action.html">lua_src/classes/action.lua</a>
	</li>

	<li>
		<a href="../../../files/lua_src/classes/argument.html">lua_src/classes/argument.lua</a>
	</li>

	<li>
		<a href="../../../files/lua_src/classes/device.html">lua_src/classes/device.lua</a>
	</li>

	<li><strong>lua_src/classes/service.lua</strong></li>
	
	<li>
		<a href="../../../files/lua_src/classes/statevariable.html">lua_src/classes/statevariable.lua</a>
	</li>

	<li>
		<a href="../../../files/lua_src/classes/upnpbase.html">lua_src/classes/upnpbase.lua</a>
	</li>

	<li>
		<a href="../../../files/lua_src/device_config.html">lua_src/device_config.lua</a>
	</li>

	<li>
		<a href="../../../files/lua_src/init.html">lua_src/init.lua</a>
	</li>

</ul>






</div> <!-- id="navigation" -->

<div id="content">

<h1>File <code>lua_src/classes/service.lua</code></h1>


<p>The base object for UPnP services.</p>



<p>Copyright &copy;2012 <a href="http://www.thijsschreijer.nl">Thijs Schreijer</a>, <a href="http://github.com/Tieske/LuaUPnP">LuaUPnP</a> is licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.html">GPLv3</a></p>


<p><small><b>Release:</b> Version 0.1, LuaUPnP</small></p>



<h2>Tables</h2>
<table class="table_list">

	<tr>
	<td class="name" nowrap><a href="#service fields/properties">service fields/properties</a></td>
	<td class="summary">Members of the service object </td>
	</tr>

</table>



<h2>Functions</h2>
<table class="function_list">

    <tr>
    <td class="name" nowrap><a href="#service:addaction">service:addaction</a>&nbsp;(action)</td>
    <td class="summary">Adds an action to the service actionlist.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#service:addstatevariable">service:addstatevariable</a>&nbsp;(statevar)</td>
    <td class="summary">Adds a statevariable to the service statetable.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#service:executeaction">service:executeaction</a>&nbsp;(actionname, params)</td>
    <td class="summary">Execute an action of the service.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#service:getupnpvalues">service:getupnpvalues</a>&nbsp;()</td>
    <td class="summary">Creates a list of all variables and values, to be provided when a subscription is accepted </td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#service:initialize">service:initialize</a>&nbsp;()</td>
    <td class="summary">Initializes the service object.</td>
    </tr>

    <tr>
    <td class="name" nowrap><a href="#service:parsefromxml">service:parsefromxml</a>&nbsp;(xmldoc, creator, parent, plist)</td>
    <td class="summary">Service constructor method, creates a new service, parsed from a service xml.</td>
    </tr>

</table>


<br/>
<br/>


<h2><a name="tables"></a>Tables</h2>
<dl class="table">

<dt><a name="service fields/properties"></a><strong>service fields/properties</strong></dt>
<dd>Members of the service object


<h3>Fields</h3>
<ul>
	
	<li>
	  <code><em>servicetype</em></code>: type of the service
	</li>
	
	<li>
	  <code><em>serviceid</em></code>: id of the service
	</li>
	
	<li>
	  <code><em>parent</em></code>: the device owning this service
	</li>
	
	<li>
	  <code><em>actionlist</em></code>: list of actions, indexed by their name
	</li>
	
	<li>
	  <code><em>statetable</em></code>: list of statevariables, indexed by their name
	</li>
	
</ul>




</dd>


</dl>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="service:addaction"></a><strong>service:addaction</strong>&nbsp;(action)</dt>
<dd>
Adds an action to the service actionlist.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>action</em></code>: action object to add
	</li>
	
</ul>








</dd>




<dt><a name="service:addstatevariable"></a><strong>service:addstatevariable</strong>&nbsp;(statevar)</dt>
<dd>
Adds a statevariable to the service statetable.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>statevar</em></code>: statevariable object to add
	</li>
	
</ul>








</dd>




<dt><a name="service:executeaction"></a><strong>service:executeaction</strong>&nbsp;(actionname, params)</dt>
<dd>
Execute an action of the service. This will call basically the <a href="upnp.action.html#action:execute"><code>action:_execute()</code></a> method, but additionally, if the action does not exist, it will return the proper UPnP error.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>actionname</em></code>: (string) name of action to execute
	</li>
	
	<li>
	  <code><em>params</em></code>: (table) table of parameter values, keyed by parameter names
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
2 lists (names and values) of the 'out' arguments (in proper order), or <code>nil, errormsg, errornumber</code> upon failure

</div>




</dd>




<dt><a name="service:getupnpvalues"></a><strong>service:getupnpvalues</strong>&nbsp;()</dt>
<dd>
Creates a list of all variables and values, to be provided when a subscription is accepted






<div>


<h3>Return values:</h3>
<ol>
	
	<li>list with variablenames</li>
	
	<li>list with variablevalues (order matching the name list)</li>
	
</ol>

</div>




</dd>




<dt><a name="service:initialize"></a><strong>service:initialize</strong>&nbsp;()</dt>
<dd>
Initializes the service object. Will be called upon instantiation of an object, override this method to set default values for all properties.









</dd>




<dt><a name="service:parsefromxml"></a><strong>service:parsefromxml</strong>&nbsp;(xmldoc, creator, parent, plist)</dt>
<dd>
Service constructor method, creates a new service, parsed from a service xml. The service object will be created, including all its children.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>xmldoc</em></code>: XML document from which a service is to be parsed, this can be either 1) a string value containing the xml, 2) a string value containing the filename of the xml 3) an IXML object containing the 'service' element
	</li>
	
	<li>
	  <code><em>creator</em></code>: callback function to create individual sub objects, see <a href="upnp.device.html#creator"><code>creator()</code></a>.
	</li>
	
	<li>
	  <code><em>parent</em></code>: the parent device object for the service to be created
	</li>
	
	<li>
	  <code><em>plist</em></code>: key-value list with service properties already parsed from the Device XMLs 'serviceList' element.
	</li>
	
</ul>





<div>


<h3 class="inline-block">Return value:</h3>
service object or <code>nil + error message</code>

</div>




</dd>


</dl>


</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
    <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->
</body>
</html>
