<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Luadocs for ./lua_src/classes/action.lua</title>
    <link rel="stylesheet" href="../../../../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../../../../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h1>Modules</h1>
<ul>

	<li>
		<a href="../../../../modules/LuaUPnP.html">LuaUPnP</a>
	</li>

	<li>
		<a href="../../../../modules/upnp.action.html">upnp.action</a>
	</li>

	<li>
		<a href="../../../../modules/upnp.argument.html">upnp.argument</a>
	</li>

	<li>
		<a href="../../../../modules/upnp.device.html">upnp.device</a>
	</li>

	<li>
		<a href="../../../../modules/upnp.service.html">upnp.service</a>
	</li>

	<li>
		<a href="../../../../modules/upnp.statevariable.html">upnp.statevariable</a>
	</li>

	<li>
		<a href="../../../../modules/upnp.upnpbase.html">upnp.upnpbase</a>
	</li>

</ul>



<!-- File list -->

<h1>Files</h1>
<ul>

	<li><strong>./lua_src/classes/action.lua</strong></li>
	
	<li>
		<a href="../../../../files/./lua_src/classes/argument.html">./lua_src/classes/argument.lua</a>
	</li>

	<li>
		<a href="../../../../files/./lua_src/classes/device.html">./lua_src/classes/device.lua</a>
	</li>

	<li>
		<a href="../../../../files/./lua_src/classes/service.html">./lua_src/classes/service.lua</a>
	</li>

	<li>
		<a href="../../../../files/./lua_src/classes/statevariable.html">./lua_src/classes/statevariable.lua</a>
	</li>

	<li>
		<a href="../../../../files/./lua_src/classes/upnpbase.html">./lua_src/classes/upnpbase.lua</a>
	</li>

	<li>
		<a href="../../../../files/./lua_src/device_config.html">./lua_src/device_config.lua</a>
	</li>

	<li>
		<a href="../../../../files/./lua_src/init.html">./lua_src/init.lua</a>
	</li>

</ul>






</div> <!-- id="navigation" -->

<div id="content">

<h1>File <code>./lua_src/classes/action.lua</code></h1>


<p>The base object for xPL devices. It features all the main characteristics of the xPL devices, so only user code needs to be added. Starting, stopping, regular heartbeats, configuration has all been implemented in this base class.<br/>&nbsp<br/>No global will be created, it just returns the xpldevice base class. The main xPL module will create a global <code>xpl.classes.xpldevice</code> to access it.<br/>&nbsp<br/>You can create a new device from; <code>xpl.classes.xpldevice:new( {} )</code>, but it is probably best to use the <a href="../files/src/xpl/new_device_template.html">new_device_template.lua</a> file as an example on how to use the <code>xpldevice</code> class</p>



<p>Copyright &copy;2012 <a href="http://www.thijsschreijer.nl">Thijs Schreijer</a>, <a href="http://github.com/Tieske/LuaUPnP">LuaUPnP</a> is licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.html">GPLv3</a></p>


<p><small><b>Release:</b> Version 0.1, LuaxPL framework.</small></p>



<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#action:_execute">action:_execute</a>&nbsp;(params)</td>
	<td class="summary">Executes the action while checking inputs and outputs.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#action:addargument">action:addargument</a>&nbsp;(argument)</td>
	<td class="summary">Adds an argument to the actions argument list.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#action:clearlazyness">action:clearlazyness</a>&nbsp;()</td>
	<td class="summary">Clears all the lazy-elements set.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#action:execute">action:execute</a>&nbsp;(params)</td>
	<td class="summary">Executes the action.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#action:initialize">action:initialize</a>&nbsp;()</td>
	<td class="summary">Initializes the action object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#action:parsefromxml">action:parsefromxml</a>&nbsp;(xmldoc, creator, parent)</td>
	<td class="summary">Action constructor method, creates a new action, parsed from an XML 'action' element.</td>
	</tr>

</table>




<h2>Tables</h2>
<table class="table_list">

	<tr>
	<td class="name" nowrap><a href="#action fields/properties">action fields/properties</a></td>
	<td class="summary">Members of the action object </td>
	</tr>

</table>



<br/>
<br/>




<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="action:_execute"></a><strong>action:_execute</strong>&nbsp;(params)</dt>
<dd>
Executes the action while checking inputs and outputs. Parameter values may be in either UPnP or Lua format. The actual implementation is in <code>action:execute()</code> which will be called by this method. So to implement device behaviour, override the <code>action:execute()</code> method, and not this one.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>params</em></code>: table with argument values, indexed by argument name.
	</li>
	
</ul>








</dd>




<dt><a name="action:addargument"></a><strong>action:addargument</strong>&nbsp;(argument)</dt>
<dd>
Adds an argument to the actions argument list. This will append an argument, so adding must be done in proper UPnP order!


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>argument</em></code>: 
	</li>
	
</ul>








</dd>




<dt><a name="action:clearlazyness"></a><strong>action:clearlazyness</strong>&nbsp;()</dt>
<dd>
Clears all the lazy-elements set. Applies to <code>getaction(), getservice(), getdevice(), getroot(), gethandle()</code> methods. Override in subclasses to clear tree-structure.









</dd>




<dt><a name="action:execute"></a><strong>action:execute</strong>&nbsp;(params)</dt>
<dd>
Executes the action. Override in descendant classes to implement the actual device behaviour. NOTE: if not overridden, the default result will be an error; 602, Optional Action Not Implemented (hence; from the descedant overridden method, DO NOT call the ancestor method, as it will only return the error)


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>params</em></code>: table with named arguments (each argument indexed by its name). Before calling the arguments will have been checked, converted and counted.
	</li>
	
</ul>








<h3>See also:</h3>
<ul>
	
	<!-- <li><a href="#../../../../files/./lua_src/classes/action.html#action:_executeaction:_execute"> -->
	<li><a href="#action:_execute">
		action:_execute</li>
	</a>
	
</ul>

</dd>




<dt><a name="action:initialize"></a><strong>action:initialize</strong>&nbsp;()</dt>
<dd>
Initializes the action object. Will be called upon instantiation of an object, override this method to set default values for all properties.









</dd>




<dt><a name="action:parsefromxml"></a><strong>action:parsefromxml</strong>&nbsp;(xmldoc, creator, parent)</dt>
<dd>
Action constructor method, creates a new action, parsed from an XML 'action' element.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>xmldoc</em></code>: an IXML object containing the 'action' element
	</li>
	
	<li>
	  <code><em>creator</em></code>: callback function to create individual sub objects
	</li>
	
	<li>
	  <code><em>parent</em></code>: the parent object for the action to be created
	</li>
	
</ul>








</dd>


</dl>




<h2><a name="tables"></a>Tables</h2>
<dl class="table">

<dt><a name="action fields/properties"></a><strong>action fields/properties</strong></dt>
<dd>Members of the action object


<h3>Fields</h3>
<ul>
	
	<li>
	  name: name of the action
	</li>
	
	<li>
	  evented: indicator for the variable to be an evented statevariable
	</li>
	
	<li>
	  _value: internal field holding the value, use <code>get, set</code> and <code>getupnp</code> methods for access
	</li>
	
	<li>
	  _datatype: internal field holding the UPnP type, use <code>getdatatype</code> and <code>setdatatype</code> methods for access
	</li>
	
</ul>


</dd>


</dl>




</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->
</body>
</html>
